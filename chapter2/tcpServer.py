#!/bin/python
import socket
import threading

def handle_client(client):
    req=client.recv(4096)
    print(f"received {req}")
    client.send("ACK!".encode())
    client.close()
if __name__ == '__main__':
    server=socket.socket(socket.AF_INET,socket.SOCK_STREAM)
    ip='127.0.0.1'
    port=2789
    server.bind((ip,port))
    server.listen(5)
    print(f"***Listening {ip} on port {port}***")
    while True:
        client,addr=server.accept()
        print(f"***Accepted connection from {addr[0]} on port {addr[1]}**")
        mythread=threading.Thread(target=handle_client,args=(client,))
        mythread.start()
